<ion-header>
  <ion-toolbar>
    <ion-title>
      Idea's Details
    </ion-title>
    <ion-buttons start>
      <button ion-button (click)="dismiss()">
        <span color="primary" showWhen="ios">Cancel</span>
        <ion-icon name="md-close" showWhen="android,windows"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <ion-item>
      <ion-avatar item-left>
        <img [src]="'https://protected-temple-59341.herokuapp.com/media/'+i.ideaOwnerAvatar+'.avatar'">
      </ion-avatar>
      <h2>{{i.ideaOwnerNickname}}</h2>
      <ion-badge item-right>{{i.area}}</ion-badge>
      <p>@{{i.ideaOwner}}</p>
      <p>{{i.updatedAt}}</p>
    </ion-item>

    <ion-card-content>
      <p>{{i.description}}</p>
      <img *ngIf="i.mediaType=='.jpg'||i.mediaType=='.png'||i.mediaType=='.bmp'||i.mediaType=='.gif'||i.mediaType=='.jpeg'" [src]="'https://protected-temple-59341.herokuapp.com/media/'+i.mediaId+'i.mediaType'">
      <video *ngIf="i.mediaType=='.mp4'" width="320" height="240" controls>
        <source [src]="'https://protected-temple-59341.herokuapp.com/media/'+i.mediaId+'i.mediaType'" type="video/mp4">
      </video>
      <a ion-item text-center *ngIf="!(i.mediaType=='.jpg'||i.mediaType=='.png'||i.mediaType=='.bmp'||i.mediaType=='.gif'||i.mediaType=='.jpeg'||i.mediaType=='.mp4'||!i.mediaType)" [href]="'https://protected-temple-59341.herokuapp.com/media/'+i.mediaId+i.mediaType"
          target="_blank">
        <ion-icon name="cloud-download"></ion-icon>{{i.mediaType}}</a>
    </ion-card-content>

    <ion-row>
      <ion-col width-50 center text-center>
        <button ion-button full primary clear small icon-left text-center>
          <ion-icon name="thumbs-up"></ion-icon>
          {{i.likesNo}}
        </button>
      </ion-col>
      <ion-col width-50 center text-center>
        <button ion-button full primary clear small icon-left text-center (click)="selectProgress()">
        <ion-icon name="bookmark"></ion-icon>{{i.status}}
      </button>
      </ion-col>
    </ion-row>

  </ion-card>

  <ion-card>
    <ion-card-header>Suggestions</ion-card-header>
    <ion-list>
      <ion-item-sliding *ngFor="let s of suggestions">
        <ion-item text-wrap (click)="modalAction(s)">
          <p><b>{{s.suggestionOwner}} suggested: </b>{{s.suggestion}}</p>
        </ion-item>
        <ion-item-options side="right">
          <button ion-button color="danger">
        <ion-icon name="trash"></ion-icon>
        Delete
      </button>
        </ion-item-options>
      </ion-item-sliding>
    </ion-list>
  </ion-card>
</ion-content>

<ion-footer>
  <ion-item text-wrap *ngIf="!CalculateVisibility">
    <ion-textarea rows="3" type="text" [(ngModel)]="suggestion" placeholder="Type your suggestion here"></ion-textarea>
    <ion-buttons item-right>
      <button ion-button (click)="post()">Send</button>
    </ion-buttons>
  </ion-item>
  <ion-fab right bottom *ngIf="CalculateVisibility">
    <button ion-fab (click)="modalCalculate()"><ion-icon name="calculator"></ion-icon></button>
  </ion-fab>
</ion-footer>
